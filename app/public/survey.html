<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Friend Finder - Survey</title>
    <script src="https://code.jquery.com/jquery.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <h1>Survey Questions</h1>
        <h3>About You</h3>
        <form action="">
            <label for="name">Your Name</label><br>
            <input type="text" name="name" id="name"><br>
            <label for="photo">Link to Photo Image</label><br>
            <input type="text" name="photo" id="photo"><br>
            <br>
            <div class="question">
                <h4>Question 01</h4>
                <p>Every food is better when it's spicy as hell.</p>
                <select name="01" id="01" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Not too much pepper please...)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (I want the world to burn!)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 02</h4>
                <p>Seven of my top 10 favorite books are Harry Potter.</p>
                <select name="02" id="02" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (HaRrY pOtTeR iS 4 kIdZ)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Does Grawp s*** in the Forbidden Forest?)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 03</h4>
                <p>I would rather go see a movie than go to a sports game.</p>
                <select name="03" id="03" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (SPORTS! SPORTS! SPORTS!)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Obviously, I prefer the cinema)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 04</h4>
                <p>Books are most often better than the movie version.</p>
                <select name="04" id="04" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (how do read?)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Movies just ruin the picture I've already painted)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 05</h4>
                <p>When going out with friends, I usually...</p>
                <select name="05" id="05" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Go clubbing!!)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Go to a smelly, dark, dive.)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 06</h4>
                <p>Anime.</p>
                <select name="06" id="06" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Ew. I'm an adult. I don't watch cartoons.)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (明らかに)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 07</h4>
                <p>My favotite (recent) comedian is...</p>
                <select name="07" id="07" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Larry the Cable Guy)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (John Mulaney)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 08</h4>
                <p>I would rather listen to...</p>
                <select name="08" id="08" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Katrina & The Waves)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Belle and Sebastian)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 09</h4>
                <p>The meaning of life is...</p>
                <select name="09" id="09" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Live. Laugh. Love.)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (42)</option>
                </select>
            </div>
            <div class="question">
                <h4>Question 10</h4>
                <p>I hate the "Strongly Agree" or "Strongly Disagree" surveys.</p>
                <select name="10" id="10" style="width:200px;">
                    <option value=""></option>
                    <option value="1">1 (Strongly Agree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <br><br>
            <button type="submit" class="submit">Submit</button>
        </form>
    </div>

    <div id="results" class="modal fade" tabindex="-1" role="dialog" style="display: none">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <br>
                    <h1 class="modal-title">
                        <strong>Best Match</strong>
                    </h1>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">x</button>
                </div>
                <div class="modal-body">
                    <h2 id="friend-name"></h2>
                    <img id="friend-photo" src="" alt="Best match photo" style="width: 100%">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>

<script type="text/javascript">
    $(".submit").on("click", function (event) {
        event.preventDefault();

        var newFriend = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [
                $("#01").val(),
                $("#02").val(),
                $("#03").val(),
                $("#04").val(),
                $("#05").val(),
                $("#06").val(),
                $("#07").val(),
                $("#08").val(),
                $("#09").val(),
                $("#10").val(),
            ]
        };

        console.log(newFriend);

        $.post("/api/friends", newFriend, function (data) {

            $("#friend-name").text(data.name);
            $("#friend-photo").attr("src", data.photo);

            $("#results").modal("toggle");
        });
    });

</script>